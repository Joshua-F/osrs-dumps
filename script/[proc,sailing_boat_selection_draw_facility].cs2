// 8648
[proc,sailing_boat_selection_draw_facility](component $component0, int $int1, int $int2, int $int3, int $int4, int $int5, int $int6, string $string0)(int, int)
db_find(sailing_boat:type_id, $int4);
def_dbrow $dbrow7 = db_findnext;
if ($dbrow7 = null) {
    return($int1, 0);
}
def_int $int8 = db_getfieldcount($dbrow7, sailing_boat:hotspot);
def_int $int9 = 0;
def_int $int10 = 5;
def_int $int11 = 0;
def_int $int12 = 0;
def_int $int13 = 0;
def_int $int14 = $int1;
def_dbrow $dbrow15 = null;
def_dbrow $dbrow16 = null;
cc_create($component0, ^iftype_text, $int1);
cc_settext($string0);
cc_setsize(parawidth(cc_gettext, if_getwidth($component0), p11_full), $int5, ^setsize_abs, ^setsize_abs);
cc_setposition($int10, $int2, ^setpos_abs_left, ^setpos_abs_top);
cc_settextfont(p11_full);
cc_settextalign(^settextalign_left, ^settextalign_centre, 0);
cc_settextshadow(true);
cc_setcolour(0xff981f);
$int11 = calc($int10 + parawidth(cc_gettext, if_getwidth($component0), p11_full));
$int1 = calc($int1 + 1);
while ($int9 < $int8) {
    $dbrow15 = db_getfield($dbrow7, sailing_boat:hotspot:3, $int9);
    $int12 = ~sailing_boat_get_hotspot($int3, $int9);
    if ($dbrow15 ! null & $int12 > 0) {
        $dbrow16 = db_getfield($dbrow15, sailing_boat_hotspot:option, calc($int12 - 1));
        if ($dbrow16 ! null & $int6 = db_getfield($dbrow16, sailing_boat_facility:facility_type, 0)) {
            $int1, $int11, $int13 = ~script8649($component0, $int1, $int11, $int2, ~script8976($dbrow16), db_getfield($dbrow16, sailing_boat_facility:name, 0), $int5, $int13);
        }
    }
    $int9 = calc($int9 + 1);
}
def_int $int17 = ~sailing_boat_get_brazier($int3, $dbrow7);
def_dbrow $dbrow18 = null;
if ($int17 > 0 & $int6 = 0) {
    $dbrow18 = db_getfield($dbrow7, sailing_boat:brazier_option, max(0, calc($int17 - 1)));
    if ($dbrow18 ! null) {
        $int1, $int11, $int13 = ~script8649($component0, $int1, $int11, $int2, ~script8977($dbrow18), db_getfield($dbrow18, sailing_boat_brazier:name, 0), $int5, $int13);
    }
}
if ($int13 < 1 & cc_find($component0, $int14) = ^true) {
    cc_settext("<$string0> <col=ffffff>None");
}
$int2 = calc($int2 + $int5 + $int10);
return($int1, $int2);
