// 821
[proc,script821](component $component0, int $int1, int $int2, int $int3, int $int4, int $int5, int $int6, int $int7, component $component8, int $int9, int $int10, int $int11, int $int12, int $int13)
def_int $int14 = calc(%ge_selectedslot - 1);
def_inv $inv15 = enum(int, inv, enum_150, $int14);
if ($inv15 = null) {
    if (cc_find($component0, $int1) = ^true) {
        cc_settext("No offer");
    }
    if (cc_find($component0, $int2) = ^true) {
        cc_sethide(true);
    }
    if (cc_find($component0, $int3) = ^true) {
        cc_setobject_nonum(blankobject, 1);
    }
    if (cc_find($component0, $int4) = ^true) {
        cc_settext("No offer");
    }
    if (cc_find($component0, $int5) = ^true) {
        cc_settext("");
    }
    if (cc_find($component0, $int6) = ^true) {
        cc_settext("");
    }
    if (cc_find($component0, $int7) = ^true) {
        cc_settext("");
    }
    if (cc_find($component8, $int9) = ^true) {
        cc_sethide(true);
    }
    if (cc_find($component8, $int10) = ^true) {
        cc_sethide(true);
    }
    if (cc_find($component8, $int11) = ^true) {
        cc_settext("No offer found for this slot.");
    }
    if (cc_find($component8, $int12) = ^true) {
        ~script812(-1, -1, -1, 0x8f0000, $int13);
    }
    return;
}
def_obj $obj16 = null;
def_int $int17 = 0;
def_int $int18 = -1;
def_obj $obj19 = null;
def_int $int20 = 0;
def_int $int21 = 0;
def_int $int22 = 0;
def_int $int23 = 0;
def_boolean $boolean24 = false;
if (stockmarket_isofferempty($int14) = true) {
    $obj16, $int17 = ~ge_itemsink_get($int14);
    if ($obj16 = null) {
        if (cc_find($component0, $int1) = ^true) {
            cc_settext("No offer");
        }
        if (cc_find($component0, $int2) = ^true) {
            cc_sethide(true);
        }
        if (cc_find($component0, $int3) = ^true) {
            cc_setobject_nonum(blankobject, 1);
        }
        if (cc_find($component0, $int4) = ^true) {
            cc_settext("No offer");
        }
        if (cc_find($component0, $int5) = ^true) {
            cc_settext("");
        }
        if (cc_find($component0, $int6) = ^true) {
            cc_settext("");
        }
        if (cc_find($component0, $int7) = ^true) {
            cc_settext("");
        }
        if (cc_find($component8, $int9) = ^true) {
            cc_sethide(true);
        }
        if (cc_find($component8, $int10) = ^true) {
            cc_sethide(true);
        }
        if (cc_find($component8, $int11) = ^true) {
            cc_settext("No offer found for this slot.");
        }
        if (cc_find($component8, $int12) = ^true) {
            ~script812(-1, -1, -1, 0x8f0000, $int13);
        }
        return;
    }
    $int18, $obj19, $int20, $int21, $int22, $int23, $boolean24 = 1, $obj16, 1, 1, $int17, $int17, true;
} else {
    $int18 = stockmarket_getoffertype($int14);
    $obj19 = stockmarket_getofferitem($int14);
    if ($obj19 = null) {
        $obj19 = blankobject;
    }
    $int20 = stockmarket_getoffercount($int14);
    if ($int20 <= 0) {
        $int20 = 1;
    }
    $int21 = stockmarket_getoffercompletedcount($int14);
    $int22 = stockmarket_getofferprice($int14);
    $int23 = stockmarket_getoffercompletedgold($int14);
    $boolean24 = stockmarket_isofferfinished($int14);
}
def_string $string0 = ",";
if (cc_find($component0, $int1) = ^true & .cc_find($component0, $int2) = ^true) {
    .cc_sethide(false);
    if ($int18 = 1) {
        cc_settext("Sell offer");
        .cc_setgraphic("ge_smallicons,7");
    } else {
        cc_settext("Buy offer");
        .cc_setgraphic("ge_smallicons,6");
    }
}
if (cc_find($component0, $int3) = ^true) {
    cc_setobject_nonum($obj19, $int20);
}
if (cc_find($component0, $int4) = ^true) {
    cc_settext(oc_name($obj19));
}
if (cc_find($component0, $int5) = ^true) {
    cc_settext(~tostring_spacer($int20, $string0));
}
if (cc_find($component0, $int6) = ^true) {
    if ($int22 = 1) {
        cc_settext("1 coin");
    } else {
        cc_settext("<~tostring_spacer($int22, $string0)> coins");
    }
}
def_int $int25 = 0;
def_int $int26 = 0;
def_int $int27 = 0;
if (cc_find($component0, $int7) = ^true) {
    if (calc(^max_32bit_int / $int20) < $int22) {
        cc_settextfont(b12_full);
        cc_settext("Lots of money");
    } else {
        $int26 = calc($int20 * $int22);
        if ($int18 = 1 & %ge_transmit_taxrate > 0) {
            $int25 = ~min(5000000, scale(%ge_transmit_taxrate, 1000, $int22));
        }
        if ($int25 > 0) {
            $int27 = ~max(0, calc($int26 - $int20 * $int25));
            if ($int25 < 5000000) {
                cc_settextfont(b12_full);
                if ($int27 = 1) {
                    cc_settext("1 coin <col=9f9f9f>(<~tostring_spacer($int26, $string0)> - <~script5731>)</col>");
                } else {
                    cc_settext("<~tostring_spacer($int27, $string0)> coins <col=9f9f9f>(<~tostring_spacer($int26, $string0)> - <~script5731>)</col>");
                }
            } else {
                cc_settextfont(p12_full);
                if ($int27 = 1) {
                    cc_settext("1 coin <col=9f9f9f>(<~tostring_spacer($int26, $string0)> - <~tostring_spacer(5000000, $string0)> per item)</col>");
                } else {
                    cc_settext("<~tostring_spacer($int27, $string0)> coins <col=9f9f9f>(<~tostring_spacer($int26, $string0)> - <~tostring_spacer(5000000, $string0)> per item)</col>");
                }
            }
        } else if ($int18 = 1) {
            cc_settextfont(b12_full);
            if ($int26 = 1) {
                cc_settext("1 coin <col=9f9f9f>(no fee expected)</col>");
            } else {
                cc_settext("<~tostring_spacer($int26, $string0)> coins <col=9f9f9f>(no fee expected)</col>");
            }
        } else {
            cc_settextfont(b12_full);
            if ($int26 = 1) {
                cc_settext("1 coin");
            } else {
                cc_settext("<~tostring_spacer($int26, $string0)> coins");
            }
        }
    }
}
def_graphic $graphic28 = "ge_cancel,0";
def_graphic $graphic29 = "ge_cancel,1";
def_graphic $graphic30 = "ge_modify,0";
def_graphic $graphic31 = "ge_modify,1";
if (cc_find($component8, $int11) = ^true) {
    if ($boolean24 = true) {
        if ($int18 = 1) {
            $int25 = ~script5732($int14);
            if ($int25 > 0) {
                $int27 = ~max(0, calc($int23 - $int25));
                if ($int27 = 1) {
                    cc_settext("You sold a total of <col=ffb83f><~tostring_spacer($int21, $string0)></col><br>for <col=ffb83f>one</col> coin (<col=ffb83f><~tostring_spacer($int23, $string0)></col> - <col=ffb83f><~tostring_spacer($int25, $string0)></col>).");
                } else {
                    cc_settext("You sold a total of <col=ffb83f><~tostring_spacer($int21, $string0)></col><br>for <col=ffb83f><~tostring_spacer($int27, $string0)></col> coins (<col=ffb83f><~tostring_spacer($int23, $string0)></col> - <col=ffb83f><~tostring_spacer($int25, $string0)></col></col>).");
                }
            } else if ($int23 = 1) {
                cc_settext("You sold a total of <col=ffb83f><~tostring_spacer($int21, $string0)></col><br>for <col=ffb83f>one</col> coin (no fee charged).");
            } else {
                cc_settext("You sold a total of <col=ffb83f><~tostring_spacer($int21, $string0)></col><br>for <col=ffb83f><~tostring_spacer($int23, $string0)></col> coins (no fee charged).");
            }
        } else if ($int23 = 1) {
            cc_settext("You bought a total of <col=ffb83f><~tostring_spacer($int21, $string0)></col><br>for a total price of <col=ffb83f>one</col> coin.");
        } else {
            cc_settext("You bought a total of <col=ffb83f><~tostring_spacer($int21, $string0)></col><br>for a total price of <col=ffb83f><~tostring_spacer($int23, $string0)></col> coins.");
        }
        if (cc_find($component8, $int9) = ^true) {
            cc_sethide(true);
        }
        if (cc_find($component8, $int10) = ^true) {
            cc_sethide(true);
        }
    } else {
        if ($int18 = 1) {
            $int25 = ~script5732($int14);
            if ($int25 > 0) {
                $int27 = ~max(0, calc($int23 - $int25));
                if ($int27 = 1) {
                    cc_settext("You have sold a total of <col=ffb83f><~tostring_spacer($int21, $string0)></col> so far<br>for <col=ffb83f>one</col> coin (<col=ffb83f><~tostring_spacer($int23, $string0)></col> - <col=ffb83f><~tostring_spacer($int25, $string0)></col></col>).");
                } else {
                    cc_settext("You have sold a total of <col=ffb83f><~tostring_spacer($int21, $string0)></col> so far<br>for <col=ffb83f><~tostring_spacer($int27, $string0)></col> coins (<col=ffb83f><~tostring_spacer($int23, $string0)></col> - <col=ffb83f><~tostring_spacer($int25, $string0)></col></col>).");
                }
            } else if ($int23 = 1) {
                cc_settext("You have sold a total of <col=ffb83f><~tostring_spacer($int21, $string0)></col> so far<br>for <col=ffb83f>one</col> coin (no fee charged).");
            } else {
                cc_settext("You have sold a total of <col=ffb83f><~tostring_spacer($int21, $string0)></col> so far<br>for <col=ffb83f><~tostring_spacer($int23, $string0)></col> coins (no fee charged).");
            }
        } else if ($int23 = 1) {
            cc_settext("You have bought a total of <col=ffb83f><~tostring_spacer($int21, $string0)></col> so far<br>for a total price of <col=ffb83f>one</col> coin.");
        } else {
            cc_settext("You have bought a total of <col=ffb83f><~tostring_spacer($int21, $string0)></col> so far<br>for a total price of <col=ffb83f><~tostring_spacer($int23, $string0)></col> coins.");
        }
        if (cc_find($component8, $int9) = ^true) {
            cc_sethide(false);
            if (stockmarket_isofferstable($int14) = true) {
                cc_settrans(0);
                cc_setgraphic($graphic28);
                cc_setonmouserepeat("cc_graphic_swapper(event_com, event_comsubid, $graphic29, null)");
                cc_setonmouseleave("cc_graphic_swapper(event_com, event_comsubid, $graphic28, null)");
                cc_setonop("opsound(event_op, 2)");
            } else {
                cc_settrans(120);
                cc_setgraphic($graphic29);
                cc_setonmouserepeat(null);
                cc_setonmouseleave(null);
                cc_setonop(null);
            }
        }
        if (cc_find($component8, $int10) = ^true) {
            cc_sethide(false);
            if (stockmarket_isofferstable($int14) = true) {
                cc_settrans(0);
                cc_setgraphic($graphic30);
                cc_setonmouserepeat("cc_graphic_swapper(event_com, event_comsubid, $graphic31, null)");
                cc_setonmouseleave("cc_graphic_swapper(event_com, event_comsubid, $graphic30, null)");
                cc_setonop("opsound(event_op, 2)");
            } else {
                cc_settrans(120);
                cc_setgraphic($graphic31);
                cc_setonmouserepeat(null);
                cc_setonmouseleave(null);
                cc_setonop(null);
            }
        }
    }
}
if (cc_find($component8, $int12) = ^true) {
    cc_sethide(false);
    if ($obj16 ! null) {
        ~script812($int14, $int20, $int21, 0x005f00, $int13);
    } else {
        ~script812($int14, $int20, $int21, null, $int13);
    }
}
