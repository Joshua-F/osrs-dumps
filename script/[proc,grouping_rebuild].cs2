// 435
[proc,grouping_rebuild]
def_int $int0 = 0;
def_string $string0 = lowercase(clan_getchatownername);
def_int $int1 = 1;
def_string $string1 = enum(int, string, enum_849, $int1);
while (string_length($string1) > 0) {
    if (compare($string0, $string1) = 0) {
        $int0 = $int1;
        if_settext(enum(int, string, enum_848, $int0), interface_76:com9);
    }
    $int1 = calc($int1 + 1);
    $string1 = enum(int, string, enum_849, $int1);
}
if ($int0 = 0) {
    if_settext("Select a minigame...", interface_76:com9);
}
def_int $int2 = enum(int, int, enum_850, $int0);
if ($int2 = -1) {
    if_settext("---", interface_76:com21);
    if_setcolour(0xff981f, interface_76:com21);
} else {
    if_settext(tostring($int2), interface_76:com21);
    if (map_world = $int2) {
        if_setcolour(^green, interface_76:com21);
    } else {
        if_setcolour(^yellow, interface_76:com21);
    }
}
cc_deleteall(interface_76:com22);
def_int $int3 = 0;
while ($int3 < $int0) {
    cc_create(interface_76:com22, ^iftype_rectangle, $int3);
    cc_sethide(true);
    $int3 = calc($int3 + 1);
}
cc_create(interface_76:com22, ^iftype_rectangle, $int0);
cc_setposition(0, 0);
cc_setsize(if_getwidth(interface_76:com22), if_getheight(interface_76:com22));
cc_setfill(true);
cc_settrans(255);
cc_setop(1, "Teleport");
def_int $int4 = 0;
def_int $int5 = 0;
cc_deleteall(interface_76:com15);
cc_deleteall(interface_76:com13);
$int3 = 0;
def_string $string2 = "";
def_int $int6 = -1;
def_int $int7 = 0;
def_int $int8 = 0;
def_int $int9 = 0;
def_int $int10 = 1;
if (if_gethide(interface_76:com15) = true) {
    if_setgraphic("scrollbar_v2,1", interface_76:com16);
    if_sethide(false, interface_76:com6);
    if_setonclick("grouping_dropdown(true)", interface_76:com6);
    if_setonclick(null, interface_76:com0);
    $int5 = if_getwidth(interface_76:com13);
    if_sethide(false, interface_76:com10);
    if ($int0 = 0) {
        if_setscrollsize(0, 0, interface_76:com13);
        ~scrollbar_resize(interface_76:com14, interface_76:com13, 0);
        cc_create(interface_76:com13, ^iftype_text, $int3);
        $int3 = calc($int3 + 1);
        cc_setsize($int5, if_getheight(interface_76:com13));
        cc_setposition(0, 0);
        cc_settextfont(p12_full);
        cc_setcolour(0xff981f);
        cc_settextalign(^settextalignh_centre, ^settextalignv_centre, 0);
        cc_settextshadow(true);
        cc_settext("You are not currently in a minigame chat-channel.");
        return;
    }
    $int7, $int8 = clan_getchatminkick, clan_getchatrank;
    $int9 = clan_getchatcount;
    while ($int9 > 0) {
        $int9 = calc($int9 - 1);
        $string2, $int2, $int6 = clan_getchatusername($int9), clan_getchatuserworld($int9), clan_getchatuserrank($int9);
        cc_create(interface_76:com13, ^iftype_text, $int3);
        $int3 = calc($int3 + 1);
        .cc_create(interface_76:com13, ^iftype_text, $int3);
        $int3 = calc($int3 + 1);
        cc_setsize(calc($int5 - 10), 13);
        .cc_setsize($int5, 13);
        cc_setposition(10, $int10);
        .cc_setposition(0, $int10);
        cc_settextfont(p11_full);
        .cc_settextfont(p11_full);
        cc_setcolour(^white);
        if ($int2 = map_world) {
            .cc_setcolour(^green);
        } else {
            .cc_setcolour(^yellow);
        }
        cc_settextalign(^settextalignh_left, ^settextalignv_top, 0);
        .cc_settextalign(^settextalignh_right, ^settextalignv_top, 0);
        cc_settextshadow(true);
        .cc_settextshadow(true);
        cc_settext($string2);
        .cc_settext("World <tostring($int2)>");
        cc_create(interface_76:com13, ^iftype_graphic, $int3);
        $int3 = calc($int3 + 1);
        cc_setsize(9, 9);
        cc_setposition(0, calc($int10 + 1));
        cc_setgraphic(enum(int, graphic, enum_706, $int6));
        cc_create(interface_76:com13, ^iftype_rectangle, $int3);
        $int3 = calc($int3 + 1);
        cc_setsize($int5, 13);
        cc_setposition(0, $int10);
        cc_setfill(true);
        cc_settrans(255);
        cc_setonop("clan_op($string2, event_opindex)");
        if (clan_isself($int9) = false) {
            if (friend_test($string2) = true) {
                cc_setop(9, "Remove friend <$string2>");
            } else if (ignore_test($string2) = true) {
                cc_setop(10, "Remove ignore <$string2>");
            } else {
                cc_setop(7, "Add friend <$string2>");
                cc_setop(8, "Add ignore <$string2>");
            }
        }
        if ($int8 >= $int7 & $int8 > $int6) {
            cc_setop(6, "Kick user <$string2>");
        }
        $int10 = calc($int10 + 13);
    }
    if ($int10 > 0) {
        $int4 = if_getscrolly(interface_76:com13);
        if_setscrollsize(0, $int10, interface_76:com13);
        ~scrollbar_resize(interface_76:com14, interface_76:com13, $int4);
    } else {
        if_setscrollsize(0, 0, interface_76:com13);
        ~scrollbar_resize(interface_76:com14, interface_76:com13, 0);
        cc_create(interface_76:com13, ^iftype_text, $int3);
        $int3 = calc($int3 + 1);
        cc_setsize($int5, if_getheight(interface_76:com13));
        cc_setposition(0, 0);
        cc_settextfont(p12_full);
        cc_setcolour(0xff981f);
        cc_settextalign(^settextalignh_centre, ^settextalignv_centre, 0);
        cc_settextshadow(true);
        cc_settext("The channel is empty.");
    }
    return;
}
if_setgraphic("scrollbar_v2,0", interface_76:com16);
if_sethide(true, interface_76:com6);
if_setonclick(null, interface_76:com6);
if_setonclick("grouping_dropdown(false)", interface_76:com0);
if_sethide(true, interface_76:com10);
$int5 = calc(if_getwidth(interface_76:com15) - 12);
$int10 = 3;
cc_create(interface_76:com15, ^iftype_rectangle, $int3);
$int3 = calc($int3 + 1);
cc_setsize($int5, 12);
cc_setposition(0, 0);
cc_setcolour(^white);
cc_setfill(true);
cc_settrans(230);
cc_sethide(true);
$int1 = 1;
$string1 = enum(int, string, enum_849, $int1);
while (string_length($string1) > 0) {
    if ($int0 ! $int1) {
        .cc_create(interface_76:com15, ^iftype_text, $int3);
        $int3 = calc($int3 + 1);
        .cc_setsize($int5, 12);
        .cc_setposition(6, $int10);
        .cc_setcolour(0xff981f);
        .cc_settextfont(p11_full);
        .cc_settextalign(^settextalignh_left, ^settextalignv_top, 0);
        .cc_settextshadow(true);
        .cc_settext(enum(int, string, enum_848, $int1));
        .cc_setonmouseover("grouping_mouseover(event_com, event_comsubid, cc_getid, true)");
        .cc_setonmouseleave("grouping_mouseover(event_com, event_comsubid, cc_getid, false)");
        .cc_setonclick("grouping_joinchannel($int1)");
        $int10 = calc($int10 + 12);
    }
    $int1 = calc($int1 + 1);
    $string1 = enum(int, string, enum_849, $int1);
}
if ($int0 ! 0) {
    .cc_create(interface_76:com15, ^iftype_text, $int3);
    $int3 = calc($int3 + 1);
    .cc_setsize($int5, 12);
    .cc_setposition(6, $int10);
    .cc_setcolour(0xff981f);
    .cc_settextfont(p11_full);
    .cc_settextalign(^settextalignh_left, ^settextalignv_top, 0);
    .cc_settextshadow(true);
    .cc_settext("(none)");
    .cc_setonmouseover("grouping_mouseover(event_com, event_comsubid, cc_getid, true)");
    .cc_setonmouseleave("grouping_mouseover(event_com, event_comsubid, cc_getid, false)");
    .cc_setonclick("grouping_joinchannel(-1)");
}
