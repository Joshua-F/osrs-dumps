// 8071
[proc,script8071](dbrow $dbrow0, dbrow $dbrow1, int $int2)(int, int, boolean, obj)
def_int $int3 = 1;
if (%sailing_sidepanel_player_role = 10) {
    $int3 = 0;
}
def_int $int4 = 0;
def_boolean $boolean5 = false;
def_obj $obj6 = null;
switch_dbrow ($dbrow0) {
    case sailing_sidepanel_facility_sails :
        if (%sailing_sidepanel_player_role = 6) {
            $int3 = 0;
        }
        if ($dbrow1 = sailing_sidepanel_facility_sails_button_main) {
            if (%sailing_sidepanel_sail_button_toggled = 1 & (%sailing_sidepanel_player_role = 10 | %sailing_sidepanel_player_role = 6)) {
                $int3 = 2;
            }
            $int4 = %sailing_sidepanel_boat_move_mode;
        }
        if ($dbrow1 = sailing_sidepanel_facility_sails_button_slow | $dbrow1 = sailing_sidepanel_facility_sails_button_speed) {
            $int4 = %sailing_sidepanel_boat_move_mode;
        }
    case sailing_sidepanel_facility_helm :
        if (%sailing_sidepanel_player_role = 6) {
            $int3 = 0;
        }
        if ($dbrow1 = sailing_sidepanel_facility_helm_graphic | $dbrow1 = sailing_sidepanel_facility_helm_text) {
            if (%sailing_sidepanel_helm_status = 0) {
                $int3 = 1;
            }
            $int4 = %sailing_sidepanel_helm_status;
        }
    case sailing_sidepanel_facility_trawling :
        if ($dbrow1 = sailing_sidepanel_facility_graphic_trawling) {
            $int4 = %sailing_sidepanel_boat_trawling_net_level;
        }
    case sailing_sidepanel_facility_wind_catcher :
        if (%sailing_sidepanel_player_role = 6) {
            $int3 = 0;
        }
        if ($dbrow1 = sailing_sidepanel_facility_button_wind_catcher_button) {
            if (%sailing_sidepanel_boat_wind_charges >= 1) {
                $int4 = 1;
            }
            if (%sailing_sidepanel_boat_wind_catcher_enabled = 1) {
                $boolean5 = true;
            }
        } else if ($dbrow1 = sailing_sidepanel_facility_graphic_wind_catcher_count_1) {
            if (%sailing_sidepanel_boat_wind_charges >= 2) {
                $int4 = 1;
            }
        } else if ($dbrow1 = sailing_sidepanel_facility_graphic_wind_catcher_count_2 & %sailing_sidepanel_boat_wind_charges >= 3) {
            $int4 = 1;
        }
    case sailing_sidepanel_facility_cannon :
        if ($dbrow1 = sailing_sidepanel_facility_object_cannonball) {
            if (%sailing_sidepanel_player_role ! 10 & %sailing_boat_facility_lockedin = 4) {
                $int3 = 0;
            }
            switch_int ($int2) {
                case 0 :
                    $int4 = %sailing_sidepanel_ammunition_count_0;
                    if (%sailing_sidepanel_ammunition_tier_0 ! 0) {
                        $obj6 = ~script8101(%sailing_sidepanel_ammunition_tier_0);
                    }
                case 1 :
                    $int4 = %sailing_sidepanel_ammunition_count_1;
                    if (%sailing_sidepanel_ammunition_tier_1 ! 0) {
                        $obj6 = ~script8101(%sailing_sidepanel_ammunition_tier_1);
                    }
                case 2 :
                    $int4 = %sailing_sidepanel_ammunition_count_2;
                    if (%sailing_sidepanel_ammunition_tier_2 ! 0) {
                        $obj6 = ~script8101(%sailing_sidepanel_ammunition_tier_2);
                    }
                case 3 :
                    $int4 = %sailing_sidepanel_ammunition_count_3;
                    if (%sailing_sidepanel_ammunition_tier_3 ! 0) {
                        $obj6 = ~script8101(%sailing_sidepanel_ammunition_tier_3);
                    }
                case 4 :
                    $int4 = %sailing_sidepanel_ammunition_count_4;
                    if (%sailing_sidepanel_ammunition_tier_4 ! 0) {
                        $obj6 = ~script8101(%sailing_sidepanel_ammunition_tier_4);
                    }
                case 5 :
                    $int4 = %sailing_sidepanel_ammunition_count_5;
                    if (%sailing_sidepanel_ammunition_tier_5 ! 0) {
                        $obj6 = ~script8101(%sailing_sidepanel_ammunition_tier_5);
                    }
                case 6 :
                    $int4 = %sailing_sidepanel_ammunition_count_6;
                    if (%sailing_sidepanel_ammunition_tier_6 ! 0) {
                        $obj6 = ~script8101(%sailing_sidepanel_ammunition_tier_6);
                    }
                case 7 :
                    $int4 = %sailing_sidepanel_ammunition_count_7;
                    if (%sailing_sidepanel_ammunition_tier_7 ! 0) {
                        $obj6 = ~script8101(%sailing_sidepanel_ammunition_tier_7);
                    }
            }
        } else if ($dbrow1 = sailing_sidepanel_facility_button_follow_target) {
            if (%sailing_crew_follow_target_disabled = 0) {
                if (%sailing_sidepanel_player_role = 10) {
                    $int3 = 2;
                }
                $int4 = 1;
            } else {
                $int4 = 0;
            }
        }
}
return($int3, $int4, $boolean5, $obj6);
