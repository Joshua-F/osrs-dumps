// 649
[proc,poh_add_room_initbutton](int $int0, int $int1, string $string0, int $int2)(int)
def_dbrow $dbrow3 = ~script7371($int1);
def_component $component4 = db_getfield($dbrow3, poh_room:button, 0);
if ($component4 = null) {
    return($int0);
}
if_sethide(false, $component4);
def_int $int5 = if_getwidth($component4);
def_int $int6 = if_getheight($component4);
cc_deleteall($component4);
def_int $int7 = 0;
cc_create($component4, ^iftype_rectangle, $int7);
$int7 = calc($int7 + 1);
cc_setsize(238, $int6, ^setsize_abs, ^setsize_abs);
cc_setposition(0, 0, ^setpos_abs_left, ^setpos_abs_top);
cc_setfill(false);
cc_setcolour(0x333300);
cc_create($component4, ^iftype_text, $int7);
$int7 = calc($int7 + 1);
def_string $string1 = "<$string0>: Lvl <tostring($int2)>";
def_int $int8 = calc(parawidth($string1, 512, p12_full) + 10);
if ($int8 < 162) {
    $int8 = 162;
}
cc_setsize($int8, $int6, ^setsize_abs, ^setsize_abs);
cc_setposition(calc(238 - $int8), 0, ^setpos_abs_left, ^setpos_abs_top);
cc_settextfont(p12_full);
cc_settextalign(^settextalign_left, ^settextalign_centre, 0);
cc_settextshadow(true);
cc_settext($string1);
cc_setcolour(0xccccff);
if_setonmouseover("cc_colour_swapper(event_com, cc_getid, 15658751)", $component4);
if_setonmouseleave("cc_colour_swapper(event_com, cc_getid, 13421823)", $component4);
cc_create($component4, ^iftype_text, $int7);
$int7 = calc($int7 + 1);
cc_setsize(calc($int5 - 238), $int6, ^setsize_abs, ^setsize_abs);
cc_setposition(238, 0, ^setpos_abs_left, ^setpos_abs_top);
cc_settextfont(p12_full);
cc_settextalign(^settextalign_centre, ^settextalign_centre, 0);
cc_settextshadow(true);
def_dbrow $dbrow9 = ~script7371($int1);
if ($dbrow9 ! null) {
    $int8 = db_getfield($dbrow9, poh_room:cost, 0);
} else {
    $int8 = 0;
}
$string1 = ",";
cc_settext("<~tostring_spacer($int8, $string1)> coins");
~poh_add_room_costupdate($int8);
cc_setoninvtransmit("poh_add_room_costupdate(event_com, event_comsubid, $int8){inv}");
if_setop(1, $string0, $component4);
if_setonop("poh_add_room_op(event_com, $int1)", $component4);
if_setposition(0, $int0, ^setpos_abs_left, ^setpos_abs_top, $component4);
return(calc($int0 + $int6 + 1));
