// 2067
[proc,script2067](component $component0, obj $obj1, int $int2)
cc_deleteall($component0);
def_int $int3 = 0;
cc_create($component0, ^iftype_model, $int3);
$int3 = calc($int3 + 1);
def_int $int4 = 60;
cc_setsize($int4, 80, ^setsize_abs, ^setsize_abs);
cc_setposition(0, 0, ^setpos_abs_centre, ^setpos_abs_top);
cc_setobject_nonum($obj1, 1);
cc_create($component0, ^iftype_text, $int3);
$int3 = calc($int3 + 1);
cc_setsize(0, 80, ^setsize_minus, ^setsize_minus);
cc_setposition(0, 0, ^setpos_abs_centre, ^setpos_abs_bottom);
cc_settextshadow(true);
cc_settextfont(p12_full);
def_string $string0 = oc_name($obj1);
def_string $string1 = $string0;
def_int $int5 = string_length($string0);
def_int $int6 = 0;
if ($int5 > 0 & parawidth($string1, 512, p12_full) > 90) {
    while ($int5 > 1 & $int6 = 0) {
        $int5 = calc($int5 - 1);
        $string1 = append(substring($string0, 0, $int5), "...");
        if (parawidth($string1, 512, p12_full) <= 90) {
            $int6 = 1;
        }
    }
}
$int4 = ~max($int4, parawidth($string1, 512, p12_full));
cc_settext($string1);
def_string $string2 = "";
if (stat(crafting) < $int2) {
    $string2 = "Level <tostring($int2)>";
    cc_settextalign(^settextalign_centre, ^settextalign_top, 0);
    cc_setcolour(^red);
    .cc_create($component0, ^iftype_text, $int3);
    $int3 = calc($int3 + 1);
    .cc_setsize(0, 80, ^setsize_minus, ^setsize_minus);
    .cc_setposition(0, 0, ^setpos_abs_centre, ^setpos_abs_bottom);
    .cc_settextshadow(true);
    .cc_settextfont(p11_full);
    .cc_settextalign(^settextalign_centre, ^settextalign_bottom, 0);
    .cc_setcolour(^red);
    .cc_settext($string2);
    $int4 = ~max($int4, parawidth($string2, 512, p11_full));
    if_setonmouserepeat(null, $component0);
    if_setonmouseleave(null, $component0);
    if_setonop(null, $component0);
    if_clearops($component0);
} else {
    cc_settextalign(^settextalign_centre, ^settextalign_centre, 0);
    cc_setcolour(0xff981f);
    if_setonmouseleave("cc_colour_swapper(event_com, cc_getid, 0xff981f)", $component0);
    if_setonmouserepeat("cc_colour_swapper(event_com, cc_getid, ^white)", $component0);
    if_setonop("opsound(event_op, 62)", $component0);
    if_setop(1, "Blow-1", $component0);
    if_setop(2, "Blow-5", $component0);
    if_setop(3, "Blow-10", $component0);
    if_setop(4, "Blow-X", $component0);
    if_setop(5, "Blow-All", $component0);
    if_setopbase("<col=ff9040><$string0></col>", $component0);
}
if_setsize($int4, 105, ^setsize_abs, ^setsize_abs, $component0);
