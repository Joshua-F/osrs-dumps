// 923
[proc,toplevel_chatbox_background]
def_boolean $boolean0 = false;
if (%varclient_41 = -1) {
    if (~toplevel_chatbox_permittransparent = true) {
        $boolean0 = true;
    } else if (getwindowmode = ^windowmode_small) {
        %varclient_41 = 0;
        ~chat_alert_set(0, 0);
    }
}
if_sethide($boolean0, interface_162:com_30);
cc_deleteall(interface_162:com_31);
cc_deleteall(interface_162:com_45);
if (~toplevel_chatbox_maketransparent = false) {
    if_setnoclickthrough(true, interface_162:com_31);
    cc_create(interface_162:com_31, ^iftype_graphic, 0);
    cc_setsize(0, 0, ^setsize_minus, ^setsize_minus);
    cc_setposition(0, 0, ^setpos_abs_centre, ^setpos_abs_centre);
    cc_setgraphic(chat_background);
    cc_settiling(false);
    cc_settrans(0);
    cc_create(interface_162:com_45, ^iftype_rectangle, 0);
    cc_setsize(0, 1, ^setsize_minus, ^setsize_abs);
    cc_setposition(0, 15, ^setpos_abs_centre, ^setpos_abs_bottom);
    cc_setcolour(0x807660);
    cc_setfill(true);
    ~scrollbar_vertical_repaint(interface_162:com_548, "scrollbar_dragger_v2,3", "scrollbar_dragger_v2,0", "scrollbar_dragger_v2,1", "scrollbar_dragger_v2,2", "scrollbar_v2,0", "scrollbar_v2,1", 0);
    if ($boolean0 = true) {
        if_settrans(255, interface_162:com_3);
    } else {
        if_settrans(0, interface_162:com_3);
    }
    return;
}
def_int $int1 = calc(16384 / 25);
def_int $int2 = 16384;
if (%varplayerbit_2570 = 1) {
    if_setnoclickthrough(true, interface_162:com_31);
} else {
    if_setnoclickthrough(false, interface_162:com_31);
    if_setnoscrollthrough(true, interface_162:com_31);
}
def_int $int3 = 0;
if (~on_mobile = false) {
    while ($int3 < 20) {
        cc_create(interface_162:com_31, ^iftype_rectangle, $int3);
        cc_setsize(0, $int2, ^setsize_minus, ^setsize_rel);
        cc_setposition(0, 0, ^setpos_abs_centre, ^setpos_abs_bottom);
        cc_setcolour(^black);
        cc_setfill(true);
        cc_settrans(254);
        cc_create(interface_162:com_45, ^iftype_rectangle, calc($int3 * 2));
        .cc_create(interface_162:com_45, ^iftype_rectangle, calc($int3 * 2 + 1));
        cc_setsize($int2, 1, ^setsize_rel, ^setsize_abs);
        .cc_setsize($int2, 1, ^setsize_rel, ^setsize_abs);
        cc_setposition(0, 0, ^setpos_abs_left, ^setpos_abs_top);
        .cc_setposition(0, 15, ^setpos_abs_left, ^setpos_abs_bottom);
        cc_setcolour(^white);
        .cc_setcolour(^white);
        cc_setfill(true);
        .cc_setfill(true);
        cc_settrans(251);
        .cc_settrans(250);
        $int3, $int2 = calc($int3 + 1), calc($int2 - $int1);
    }
} else {
    cc_create(interface_162:com_31, ^iftype_rectangle, $int3);
    cc_setsize(0, $int2, ^setsize_minus, ^setsize_rel);
    cc_setposition(0, 0, ^setpos_abs_centre, ^setpos_abs_bottom);
    cc_setcolour(^black);
    cc_setfill(true);
    cc_settrans(225);
    cc_create(interface_162:com_45, ^iftype_rectangle, calc($int3 * 2));
    .cc_create(interface_162:com_45, ^iftype_rectangle, calc($int3 * 2 + 1));
    cc_setsize($int2, 1, ^setsize_rel, ^setsize_abs);
    .cc_setsize($int2, 1, ^setsize_rel, ^setsize_abs);
    cc_setposition(0, 0, ^setpos_abs_left, ^setpos_abs_top);
    .cc_setposition(0, 15, ^setpos_abs_left, ^setpos_abs_bottom);
    cc_setcolour(^white);
    .cc_setcolour(^white);
    cc_setfill(true);
    .cc_setfill(true);
    cc_settrans(200);
    .cc_settrans(130);
}
~scrollbar_vertical_repaint(interface_162:com_548, "scrollbar_trans_dragger,3", "scrollbar_trans_dragger,0", "scrollbar_trans_dragger,1", "scrollbar_trans_dragger,2", "scrollbar_trans_arrows,0", "scrollbar_trans_arrows,1", 1);
if ($boolean0 = true) {
    if_settrans(255, interface_162:com_3);
} else {
    if_settrans(155, interface_162:com_3);
}
