// 907
[proc,toplevel_redraw](component $component0, enum $enum1)
if (%varplayerbit_4611 = 1) {
    if_setonkey("toplevel_keypress(event_keycode, $enum1, false)", $component0);
} else {
    if_setonkey("toplevel_keypress(event_keycode, $enum1, true)", $component0);
}
~toplevel_resize($component0, $enum1);
def_component $component2 = enum(component, component, $enum1, interface_161:com_12);
if ($component2 ! null) {
    if_sethide(~int_to_bool(%varplayerbit_542), $component2);
}
def_component $component3 = enum(component, component, $enum1, interface_161:com_15);
if ($component3 ! null) {
    if_setclickmask(fixed_map_clickmask, $component3);
}
def_component $component4 = enum(component, component, $enum1, interface_161:com_3);
def_int $int5 = 0;
def_int $int6 = 0;
$int6, $int5 = viewport_getzoom;
if (%varclient_73 > 0 & %varclient_74 > 0 & ($int6 ! %varclient_73 | $int5 ! %varclient_74)) {
    ~camera_do_zoom(%varclient_73, %varclient_74);
}
if_setonscrollwheel("camera_zoom(event_mousey)", $component4);
def_int $int7 = calc(%varplayerbit_3756 - 1);
def_component $component8 = enum(int, component, enum_1139, $int7);
if ($component8 ! null) {
    $component8 = enum(component, component, $enum1, $component8);
    if ($component8 ! null) {
        if_setontimer("toplevel_timer($component8)", $component0);
    } else {
        if_setontimer(null, $component0);
    }
} else {
    if_setontimer(null, $component0);
}
~toplevel_sidebuttons_enable($enum1);
def_component $component9 = enum(int, component, enum_1138, 2);
$component8 = enum(int, component, enum_1139, 2);
$component9, $component8 = enum(component, component, $enum1, $component9), enum(component, component, $enum1, $component8);
if ($component9 ! null & $component8 ! null) {
    if (%varplayerbit_3217 = 1) {
        if_setop(1, "Minigames", $component9);
        if_setgraphic("sideicons_interface,14", $component8);
    } else if (%varplayerbit_3612 = 1) {
        if_setop(1, "Achievement Diaries", $component9);
        if_setgraphic("sideicons_interface,15", $component8);
    } else {
        if_setop(1, "Quest List", $component9);
        if_setgraphic("sideicons_interface,2", $component8);
    }
}
$component8 = enum(component, component, $enum1, interface_161:com_19);
if ($component8 ! null) {
    if (%varplayerbit_4609 = 1) {
        if_setgraphic(tradebacking_dark, $component8);
        if_settrans(0, $component8);
    } else {
        if_setgraphic(tradebacking_light, $component8);
        if_settrans(150, $component8);
    }
}
$component8 = enum(component, component, $enum1, interface_161:com_11);
if ($component8 ! null) {
    if (%varplayerbit_4605 = 1 & %varplayerbit_542 = 0) {
        if_sethide(false, $component8);
    } else {
        if_sethide(true, $component8);
    }
}
if (%varplayerbit_4134 = 1) {
    setmousecam(false);
} else {
    setmousecam(true);
}
