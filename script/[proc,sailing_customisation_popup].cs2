// 8837
[proc,sailing_customisation_popup](string $string0, string $string1)
def_component $component0 = sailing_customisation:popups;
def_component $component1 = sailing_customisation:popups_background;
def_component $component2 = sailing_customisation:popups_content_border;
def_component $component3 = sailing_customisation:popups_content;
def_component $component4 = sailing_customisation:popups_button;
def_component $component5 = sailing_customisation:popups_container;
def_int $int6 = 0;
def_graphic $graphic7 = p12_full;
cc_deleteall($component2);
cc_deleteall($component3);
cc_deleteall($component4);
if_sethide(false, $component0);
def_int $int8 = 290;
def_int $int9 = 130;
def_int $int10 = 50;
def_int $int11 = 0;
def_int $int12 = 0;
~sailing_customisation_clear_tooltip;
def_int $int13 = 265;
if ($graphic7 = p11_full) {
    $int12 = calc(paraheight($string1, if_getwidth($component3), p11_full) * 16);
} else {
    $int12 = calc(paraheight($string1, if_getwidth($component3), p12_full) * 16);
}
if ($int12 > $int10) {
    $int11 = min(150, calc($int12 - $int10));
    $int9 = min($int13, calc($int9 + $int11));
}
if_setsize($int8, calc($int9 + 20), ^setsize_abs, ^setsize_abs, $component5);
~steelborder($component2, $string0, 1);
cc_create($component3, ^iftype_graphic, $int6);
cc_setgraphic(tradebacking_dark);
cc_setposition(0, 0, ^setpos_abs_left, ^setpos_abs_top);
cc_setsize(0, 0, ^setsize_minus, ^setsize_minus);
$int6 = calc($int6 + 1);
$int6 = ~thinbox_light($component3, $int6);
cc_create($component3, ^iftype_text, $int6);
cc_settext($string1);
cc_setsize(20, 20, ^setsize_minus, ^setsize_minus);
cc_setposition(10, 10, ^setpos_abs_left, ^setpos_abs_top);
cc_settextfont($graphic7);
cc_settextalign(^settextalign_left, ^settextalign_centre, 16);
cc_settextshadow(true);
cc_setcolour(^white);
$int6 = calc($int6 + 1);
~create_v2_stone_button_filled_free($component4, 0, if_getwidth($component4), if_getheight($component4), 0, 0, "<col=ff981f>Close", ^white, 0xdfdfdf, 0, false);
if_setonop("sailing_customisation_popup_close", $component4);
if_setop(1, "Close", $component4);
if_setonop("sailing_customisation_popup_close", $component1);
if_setop(1, "Close", $component1);
