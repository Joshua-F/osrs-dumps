// 73
[clientscript,chatdefault_onkey](int $key0, char $char1)
if (staffmodlevel > 0 & string_indexof_char("`", $char1) ! -1 & string_length(%varclientstring_1) = 0) {
    return;
}
if ($key0 = ^key_return & string_length(%varclientstring_1) > 0) {
    chat_sendpublic(%varclientstring_1);
    ~chatout_add(%varclientstring_1);
    %varclientstring_1 = "";
} else if ($key0 = ^key_page_up) {
    if (staffmodlevel > 0) {
        ~chatout_scrollup;
    }
} else if ($key0 = ^key_page_down) {
    if (staffmodlevel > 0) {
        ~chatout_scrolldown;
    }
} else if ($key0 = ^key_tab) {
    if (string_length(%varclientstring_0) > 0) {
        if (friend_test(%varclientstring_0) = true) {
            ~meslayer_mode6(%varclientstring_0);
            return;
        }
        if (%varclient_49 > clientclock) {
            return;
        }
        %varclient_49 = calc(clientclock + 50);
        mes("That player was not found on your Friends list.");
        return;
    }
    if (%varclient_49 > clientclock) {
        return;
    }
    %varclient_49 = calc(clientclock + 50);
    mes("You haven't received any messages to which you can reply.");
    return;
} else {
    %varclientstring_1 = ~add_to_inputstring(%varclientstring_1, 0, $key0, $char1);
}
if_settext("<chat_playername>: <col=0000ff><escape(%varclientstring_1)>*", interface_137:com_1);
