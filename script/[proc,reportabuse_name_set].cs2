// 5090
[proc,reportabuse_name_set]
def_string $string0 = escape(%snapshot_name);
if_settext("<$string0><col=0000ff>|</col>", reportabuse:name1);
if_settext($string0, reportabuse:name2);
def_int $int0 = string_length($string0);
while ($int0 > 0 & compare(substring($string0, calc($int0 - 1), $int0), " ") = 0) {
    $string0 = substring($string0, 0, calc($int0 - 1));
    $int0 = string_length($string0);
}
if ($int0 > 0) {
    $string0 = ~string_findandreplace($string0, " ", "Â ");
    ~reportabuse_name_recentchat($string0);
    if_setonchattransmit("reportabuse_name_recentchat($string0)", reportabuse:recentchat);
} else {
    if_settext("<col=6f6f6f>Recent chat from the named player will be shown here.</col>", reportabuse:recentchat);
    if_setonchattransmit(null, reportabuse:recentchat);
}
